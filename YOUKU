#!name = 优酷视频 
#!desc = 
#!openUrl = https://apps.apple.com/app/id336141475
#!tag = 去广告
#!system = iOS
#!icon = https://imgtolinkx.com/i/2t5IxQNO
#!date = 2025-09-03

[Rule]
# 放行地址
DOMAIN, push.m.youku.com, DIRECT
DOMAIN, un-acs.youku.com, DIRECT
DOMAIN, dorangesource.alicdn.com, DIRECT

# 拦截核心广告
DOMAIN, ad.youku.com, REJECT
DOMAIN, ad.api.3g.youku.com, REJECT
DOMAIN, ad.api.mobile.youku.com, REJECT
DOMAIN, ad.mobile.youku.com, REJECT
DOMAIN, ykad-data.youku.com, REJECT
DOMAIN, atm.youku.com, REJECT
DOMAIN, cad.youku.com, REJECT
DOMAIN, yk-ssp.ad.youku.com, REJECT

# 埋点统计
DOMAIN, stat.youku.com, REJECT
DOMAIN, lstat.youku.com, REJECT
DOMAIN, msg.youku.com, REJECT
DOMAIN, sdk.m.youku.com, REJECT

# 推荐/推送/活动/营销
DOMAIN, ykrec.youku.com, REJECT
DOMAIN, ykatr.youku.com, REJECT
DOMAIN-KEYWORD, push.m.youku.com, REJECT
DOMAIN, actives.youku.com, REJECT
DOMAIN, huodong.pl.youku.com, REJECT
DOMAIN, huodong.vip.youku.com, REJECT
DOMAIN, sealine.youku.com, REJECT

# 动态广告 URL 拦截
DOMAIN-KEYWORD, adinfo, REJECT
DOMAIN-KEYWORD, preloadAd, REJECT
DOMAIN-KEYWORD, popLayer, REJECT
DOMAIN-KEYWORD, banner, REJECT
DOMAIN-KEYWORD, mediations, REJECT
DOMAIN-KEYWORD, xspeed, REJECT
DOMAIN-KEYWORD, yt.gif, REJECT
DOMAIN-SUFFIX, image.9xsecndns.cn, REJECT
DOMAIN-SUFFIX, pcdn, REJECT

[Rewrite]
# 播放页弹窗动图
^https:\/\/acs\.youku\.com\/gw\/mtop\.youku\.(pisp\.scripts\.get|xspace\.play\.position\.preload\.query|xspace\.poplayer\.position\.query) url reject-dict

[Script]
# 播放详情页、首页信息流、顶部标签页、我的页面、评论区
http-response ^https:\/\/acs\.youku\.com\/gw\/mtop\.youku\.columbus\.(gateway\.new\.execute|home\.feed|home\.query|uc\.query|ycp\.query) script-path = https://raw.githubusercontent.com/zirawell/R-Store/main/Res/Scripts/AntiAd/cntv.js, requires-body = true, tag = 移除首页信息流广告

# 底栏
http-response ^https:\/\/acs\.youku\.com\/gw\/mtop\.youku\.haidai\.lantern\.appconfig\.get script-path = https://raw.githubusercontent.com/zirawell/R-Store/main/Res/Scripts/AntiAd/cntv.js, requires-body = true, tag = 移除底栏

# 青少年模式弹窗
http-response ^https:\/\/acs\.youku\.com\/gw\/mtop\.youku\.huluwa\.dispatcher\.youthmode\.config2 script-path = https://raw.githubusercontent.com/zirawell/R-Store/main/Res/Scripts/AntiAd/cntv.js, requires-body = true, tag = 移除青少年模式弹窗

# 搜索列表推广
http-response ^https:\/\/acs\.youku\.com\/gw\/mtop\.youku\.soku\.yksearch script-path = https://raw.githubusercontent.com/zirawell/R-Store/main/Res/Scripts/AntiAd/cntv.js, requires-body = true, tag = 移除搜索列表广告

# 热剧弹窗
http-response ^https:\/\/push\.m\.youku\.com\/collect-api\/get_push_interval_config_wx\? script-path = https://raw.githubusercontent.com/zirawell/R-Store/main/Res/Scripts/AntiAd/cntv.js, requires-body = true, tag = 移除热剧弹窗

# 开屏广告
http-response ^https:\/\/un-acs\.youku\.com\/gw\/mtop\.youku\.play\.ups\.appinfo\.get script-path = https://raw.githubusercontent.com/zirawell/R-Store/main/Res/Scripts/AntiAd/cntv.js, requires-body = true, tag = 移除开屏广告

[MitM]
hostname = acs.youku.com, push.m.youku.com, un-acs.youku.com, ad.api.mobile.youku.com
