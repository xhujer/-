#!name=ç½‘æ˜“é‚®ç®±å¤§å¸ˆå»å¹¿å‘Š+è§£é”ä¼šå‘˜
#!desc=ç§»é™¤å¼€å±å¹¿å‘Šã€ä»»åŠ¡æé†’ï¼Œå¹¶å°è¯•è§£é”æœ¬åœ°ä¼šå‘˜æƒç›Šï¼ˆçš®è‚¤ã€æ ‡è¯†ï¼‰ã€‚
#!author=å¯è‰ğŸ…¥ & Modified
#!icon=https://raw.githubusercontent.com/luestr/IconResource/main/App_icon/120px/MailMaster.png
#!category=iKeLee
#!tag=å»å¹¿å‘Š,è§£é”ä¼šå‘˜
#!loon_version=3.2.4(787)

[Script]
# æ ¸å¿ƒï¼šæ‹¦æˆªä¼šå‘˜æƒç›Šæ¥å£ï¼Œæ³¨å…¥VIPæ•°æ®
http-response ^https?:\/\/.*\.mail\.163\.com\/.*\/vip\/privilege\/info script-path=https://raw.githubusercontent.com/chxm1023/Rewrite/main/NeteaseMaster.js, requires-body=true, tag=ç½‘æ˜“é‚®ç®±å¤§å¸ˆä¼šå‘˜

[Body Rewrite]
# åŸæœ‰çš„å»å¹¿å‘Šé€»è¾‘ï¼ˆä¿æŒä¸å˜ï¼‰
http-response-jq ^https:\/\/appconf\.mail\.163\.com\/mailmaster\/api\/page\/v2\/conf\.do$ 'delpaths([["data","functionOperatorInfoList"]])'
http-response-jq ^https:\/\/appconf\.mail\.163\.com\/mailmaster\/api\/page\/v2\/conf\.do$ 'delpaths([["data","memberOperator"]])'
http-response-jq ^https:\/\/appconf\.mail\.163\.com\/mailmaster\/api\/page\/v2\/conf\.do$ 'delpaths([["data","activityTabInfoList"]])'
http-response-jq ^https:\/\/appconf\.mail\.163\.com\/mailmaster\/api\/config\/function\.do$ '.data.config[] |= if .result.tools then .result.tools |= map(select(.name == "é‚®ä»¶è¿½è¸ª" or .name == "æ›¿èº«é‚®ç®±")) else . end | del(.data.config[] | select(.functionName == "Function-AD"))'

[Map Local]
# åŸæœ‰çš„æ‹¦æˆªé€»è¾‘ï¼ˆä¿æŒä¸å˜ï¼‰
^https:\/\/appconf\.mail\.163\.com\/mailmaster\/api\/http\/urlConfig\.do$ data-type=text data="{}" status-code=200 header="Content-Type:application/json"
^https:\/\/dashi\.163\.com\/task-center-api\/fapi\/task\/list$ data-type=text data="{}" status-code=200 header="Content-Type:application/json"
^https:\/\/appconf\.mail\.163\.com\/mailoperating\/mailmaster\/api\/operator\/get$ data-type=text data="{}" status-code=200 header="Content-Type:application/json"

[MITM]
# å¿…é¡»æ·»åŠ æ–°çš„åŸŸå *.mail.163.com æ‰èƒ½æ‹¦æˆªä¼šå‘˜æ¥å£
hostname = %APPEND% appconf.mail.163.com, dashi.163.com, *.mail.163.com, dspay.mail.163.com
